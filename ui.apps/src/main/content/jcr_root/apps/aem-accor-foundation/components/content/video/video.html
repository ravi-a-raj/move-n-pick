<sly data-sly-use.templates="core/wcm/components/commons/v1/templates.html" data-emptytext="Teaser" data-sly-call="${templates.placeholder @ isEmpty = !properties.headline, classAppend='cmp-teaser-global-placeholder'}" />
<sly data-sly-use.promoVideoItem="${'com.chubb.foundation.models.PromoVideoModel'}" />

<sly data-sly-test="${promoVideoItem.videoThumbnail}">
    <section class="cmp-video cmp-teaser-bottom-image">
        <div class="row">
            <div class="col-sm-12 col-md-12 col-xs-12 cmp-teaser__content__image">
                <picture>
						<img src="${promoVideoItem.videoThumbnail}" alt="${(promoVideoItem.altText =='true' || promoVideoItem.altText == null) ? true : promoVideoItem.altText}"/>
						<img src="/content/dam/chubb-sites/chubb-com/global/icons/play-icon.png" alt="Video Play icon" class="play-button ${promoVideoItem.videoType == 'Brightcove' ? 'bc-video' :''}" data-video="${promoVideoItem.dataVideo}" data-toggle="modal" data-target="#videoModal-${resource.path.hashCode}"/>
				</picture>
            </div>
        </div>
    </section>
</sly>
<!-- Modal -->
<div class="modal fade video-modal ${promoVideoItem.videoType == 'Brightcove' ? 'bc-video-modal': '' }" id="videoModal-${resource.path.hashCode}" tabindex="-1" role="dialog" aria-labelledby="Video Modal - ${promoVideoItem.id}" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true"><em class="icon icon-close"></em></span>
			</button>
			<div class="modal-body">
				<sly data-sly-test="${promoVideoItem.videoType == 'Youtube' && promoVideoItem.youtubeLink}">
                    <div class="embed-responsive embed-responsive-16by9">
                    	<iframe title="video" class="embed-responsive-item modal-video" id="video-${resource.path.hashCode}"
                                        src="${promoVideoItem.youtubeLink}"
                                        allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                        allowfullscreen="" enablejsapi="1"></iframe>
                    </div>
              </sly>
              <sly data-sly-test="${promoVideoItem.videoType == 'Brightcove' && promoVideoItem.videoPlayer}">
              	<div class="video-player">
                    <div style="padding-top: 51.5%;">
                        <video muted id="video-${promoVideoItem.videoPlayer}" data-id="video-${promoVideoItem.videoPlayer}" data-account=${promoVideoItem.brightcoveAccount} data-video-title="${properties.dataVideoTitle}" data-video-id="${promoVideoItem.videoPlayer}" data-player="default" data-embed="default" class="video-js" controls style="width: 100%; height: 100%; position: absolute; top: 0px; bottom: 0px; right: 0px; left: 0px;"> </video>
                    </div>
                </div>
              </sly>
			</div>
		</div>
	</div>
</div>
